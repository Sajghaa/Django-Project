{% extends 'uploader/base.html' %}

{% block content %}
    <h2>Uploaded Files</h2>
    
    <a href="{% url 'upload_file' %}" class="btn">â• Upload New File</a>
    
    {% if files %}
        {% for file in files %}
            <div class="file-item">
                <h3>{{ file.file.name|slice:"8:" }}</h3>
                <p><strong>Description:</strong> {{ file.description|default:"No description" }}</p>
                <p><strong>Uploaded:</strong> {{ file.uploaded_at|date:"M d, Y H:i" }}</p>
                <p><strong>Size:</strong> {{ file.file.size|filesizeformat }}</p>
                
                <div>
                    <a href="{{ file.file.url }}" target="_blank" class="btn">ğŸ“¥ Download</a>
                    <a href="{% url 'file_detail' pk=file.pk %}" class="btn">ğŸ‘ï¸ View Details</a>
                    <a href="{% url 'delete_file' pk=file.pk %}" class="btn btn-delete">ğŸ—‘ï¸ Delete</a>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p>No files uploaded yet. <a href="{% url 'upload_file' %}">Upload your first file!</a></p>
    {% endif %}
{% endblock %}