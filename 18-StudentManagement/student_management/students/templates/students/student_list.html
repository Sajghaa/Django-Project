{% extends 'base.html' %}

{% block content %}

<form method="get" class="mb-4">
    <div class="input-group">
        <input type="text" name="search" class="form-control"
             placeholder="Search by name..." value="{{ search_query}}"
        >
        <button class="btn btn-primary" type="submit">Search</button>
        {% if search_query %}
        <a href="/" class="btn btn-secondary">Clear</a>
        {% endif %}
    </div>
</form>

<a href="/create/" class="btn btn-succss mb-3">Add New Student</a>

{% if students %}

<table class="table table-striped">
    <thead>
        <tr>
            <th>Name</th>
            <th>Student ID</th>
            <th>Email</th>
            <th>GPA</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for student in students %}
        <tr>
            <td><a href="/{{ student.id }}">{{ student.name}}</a></td>
            <td>{{ student.student_id }}</td>
            <td>{{ student.email}}</td>
            <td>{{ student.gpa}}</td>
            <td>
                <a href="/update/{{ student.id }}/" class="btn btn-warning btn-sm">Edit</a>
                <a href="/delete/{{ student.id }}/" class="btn btn-danger btn-sm">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="alert alert-info">
    No students yet. <a href="/create/">Add first student</a>
</div>
{% endif %}
{% endblock%}